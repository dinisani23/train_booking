{% extends "base.html" %}

{% block title %}Home - My Flask App{% endblock %}

{% block content %}

<section class="page-section portfolio" id="portfolio">
    <div class="container py-5 h-100 mt-5">
        {% if confirmed_summary %}
            {% for summary in confirmed_summary %}
                <div class="container py-5">
                    <div class="card">
                    <div class="card-body">
                        <div class="row d-flex justify-content-center pb-5">
                        <div class="col-md-7 col-xl-5 mb-4 mb-md-0">
                            <div class="py-4 d-flex flex-row">
                            <h5><span class="far fa-check-square pe-2"></span><b>Booking Confirmed</b> |</h5>
                            <span class="ps-2">Payment</span>
                            </div>
                            
                            <h4 class="text-success">RM {{ summary.price }}</h4>
                            <h4>{{ summary.origin }} to {{ summary.destination }}</h4>
                            <hr />
                            <div class="pt-2">
                            <div class="d-flex pb-2">
                                <div>
                                <p>
                                    <b>{{ summary.departure_date }}, <span class="text-success"> {{ summary.departure_time }}</span></b>
                                </p>
                                </div>
                            </div>
                            <p>ETA: {{ summary.arrival_time }}</p>
                            <p>Train: {{ summary.train_number }}</p>
                            <p>Coach: {{ summary.coach_number }}</p>
                            <p>Seat: {{ summary.seat_number }}</p>
                            <form class="pb-3" method="POST" action="{{ url_for('mock_booking_payment.mock_pay', booking_id=booking_id) }}">
                                <div class="d-flex flex-row pb-3">
                                <div class="d-flex align-items-center pe-2">
                                    <input class="form-check-input" type="radio" name="radioNoLabel" id="radioNoLabel1"
                                    value="4000056655665556" aria-label="..." checked />
                                </div>
                                <div class="rounded border d-flex w-100 p-3 align-items-center">
                                    <p class="mb-0">
                                    <i class="fab fa-cc-visa fa-lg text-primary pe-2"></i>Visa Debit
                                    Card
                                    </p>
                                    <div class="ms-auto">************3456</div>
                                </div>
                                </div>
                
                                <div class="d-flex flex-row">
                                <div class="d-flex align-items-center pe-2">
                                    <input class="form-check-input" type="radio" name="radioNoLabel" id="radioNoLabel2"
                                    value="5555555555554444" aria-label="..." />
                                </div>
                                <div class="rounded border d-flex w-100 p-3 align-items-center">
                                    <p class="mb-0">
                                    <i class="fab fa-cc-mastercard fa-lg text-bodu pe-2"></i>Mastercard
                                    Office
                                    </p>
                                    <div class="ms-auto">************1038</div>
                                </div>
                                </div>
                                <input type="submit" value="Proceed to payment" data-mdb-ripple-init class="mt-5 btn btn-primary btn-block btn-lg" />
                            </form>
                            
                            </div>
                        </div>
                
                        <div class="col-md-5 col-xl-4 offset-xl-1">
                            <div class="py-4 d-flex justify-content-end">
                            <h6><a href="{{ url_for('main.index') }}">Cancel and return to website</a></h6>
                            </div>
                            <div class="rounded d-flex flex-column p-2 bg-body-tertiary">
                            <div class="p-2 me-3">
                                <h4>Summary</h4>
                            </div>
                            <div class="p-2 d-flex">
                                <div class="col-8">{{ summary.train_number }}</div>
                                <div class="ms-auto">RM {{ summary.price }}</div>
                            </div>
                            <div class="p-2 d-flex">
                                <div class="col-8">Tax( 0% )</div>
                                <div class="ms-auto">+ $0.00</div>
                            </div>
                            <div class="border-top px-2 mx-2"></div>
                            <div class="p-2 d-flex pt-3">
                                <div class="col-8"><b>Total</b></div>
                                <div class="ms-auto"><b class="text-success">RM {{ summary.price }}</b></div>
                            </div>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>   
            {% endfor %}
        {% else %}
            <p>Error</p>
        {% endif %}
    </div>
    

</section>

{% endblock %}